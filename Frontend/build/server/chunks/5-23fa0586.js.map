{"version":3,"file":"5-23fa0586.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/login/_page.server.js","../../../.svelte-kit/adapter-node/nodes/5.js"],"sourcesContent":["import { l as loginUser, s as store } from \"../../../chunks/auth.js\";\nconst actions = {\n  default: async (event) => {\n    const data = new FormData(event.body);\n    const email = data.get(\"email\");\n    const password = data.get(\"password\");\n    const { data: user, response } = await loginUser(email, password);\n    if (user) {\n      store.set(user);\n      console.log(\"Server store:\", store);\n    }\n    if (response.ok) {\n      return {\n        status: 302,\n        // Código de redirección\n        headers: {\n          location: \"/negocios\"\n          // Página a la que redirigir\n        }\n      };\n    }\n    event.cookies.set(\"auth_token\", \"\", {\n      httpOnly: true,\n      sameSite: \"strict\",\n      secure: false,\n      path: \"/\",\n      maxAge: 0\n    });\n    console.log(\"Cookies:\", event.cookies);\n    return {\n      body: JSON.stringify({ error: \"Usuario o contraseña incorrectos\" }),\n      status: 401,\n      // Código de no autorizado\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n  }\n};\nexport {\n  actions\n};\n","import * as server from '../entries/pages/login/_page.server.js';\n\nexport const index = 5;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/login/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/login/+page.server.js\";\nexport const imports = [\"_app/immutable/nodes/5.a8ffd3b3.js\",\"_app/immutable/chunks/scheduler.5fff65fb.js\",\"_app/immutable/chunks/index.f20c95b4.js\",\"_app/immutable/chunks/publicFooter.de71edf5.js\",\"_app/immutable/chunks/publicHeader.ba5fbcc9.js\",\"_app/immutable/chunks/parse.bee59afc.js\",\"_app/immutable/chunks/singletons.fd275494.js\",\"_app/immutable/chunks/index.bf2be75b.js\",\"_app/immutable/chunks/navigation.dbd2a6cd.js\",\"_app/immutable/chunks/auth.fc3ca823.js\"];\nexport const stylesheets = [];\nexport const fonts = [];\n"],"names":[],"mappings":";;;;AACA,MAAM,OAAO,GAAG;AAChB,EAAE,OAAO,EAAE,OAAO,KAAK,KAAK;AAC5B,IAAI,MAAM,IAAI,GAAG,IAAI,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;AAC1C,IAAI,MAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AACpC,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;AAC1C,IAAI,MAAM,EAAE,IAAI,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,MAAM,SAAS,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;AACtE,IAAI,IAAI,IAAI,EAAE;AACd,MAAM,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AACtB,MAAM,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC;AAC1C,KAAK;AACL,IAAI,IAAI,QAAQ,CAAC,EAAE,EAAE;AACrB,MAAM,OAAO;AACb,QAAQ,MAAM,EAAE,GAAG;AACnB;AACA,QAAQ,OAAO,EAAE;AACjB,UAAU,QAAQ,EAAE,WAAW;AAC/B;AACA,SAAS;AACT,OAAO,CAAC;AACR,KAAK;AACL,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,EAAE,EAAE;AACxC,MAAM,QAAQ,EAAE,IAAI;AACpB,MAAM,QAAQ,EAAE,QAAQ;AACxB,MAAM,MAAM,EAAE,KAAK;AACnB,MAAM,IAAI,EAAE,GAAG;AACf,MAAM,MAAM,EAAE,CAAC;AACf,KAAK,CAAC,CAAC;AACP,IAAI,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;AAC3C,IAAI,OAAO;AACX,MAAM,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE,KAAK,EAAE,kCAAkC,EAAE,CAAC;AACzE,MAAM,MAAM,EAAE,GAAG;AACjB;AACA,MAAM,OAAO,EAAE;AACf,QAAQ,cAAc,EAAE,kBAAkB;AAC1C,OAAO;AACP,KAAK,CAAC;AACN,GAAG;AACH,CAAC;;;;;;;ACpCW,MAAC,KAAK,GAAG,EAAE;AACvB,IAAI,eAAe,CAAC;AACR,MAAC,SAAS,GAAG,YAAY,eAAe,KAAK,CAAC,MAAM,OAAO,4BAAwC,CAAC,EAAE,QAAQ;AAE9G,MAAC,SAAS,GAAG,mCAAmC;AAChD,MAAC,OAAO,GAAG,CAAC,oCAAoC,CAAC,6CAA6C,CAAC,yCAAyC,CAAC,gDAAgD,CAAC,gDAAgD,CAAC,yCAAyC,CAAC,8CAA8C,CAAC,yCAAyC,CAAC,8CAA8C,CAAC,wCAAwC,EAAE;AACvc,MAAC,WAAW,GAAG,GAAG;AAClB,MAAC,KAAK,GAAG;;;;"}